filter {
  if [type] == "rails_app" {
    multiline {
      pattern => "^Started"
      negate => true
      what => "previous"
    }

    grok {
      match => {
        "message" => "%{RAILS_APP}"
      }
    }

    mutate {
      gsub => [
        # break the data field back into separate lines for clarity
        "data", "I, \[", "\nI, \["
      ]
    }
  }
}
